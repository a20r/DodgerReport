
\begin{document}

\chapter{Experimental Setup}

\label{chapter:experimentalsetup}

\section{Design}

\section{Metrics}

\subsection{Safety}

In order to quantify the safety of a given path $\Pi$, three metrics were
devised. These metrics need to be used together to measure the safety of a path
and each represent a component of what it means for a path to be "safe". The
first metric is the most straightforward and what is probably the first metric
to come to mind, the minimum distance to any dynamic obstacle at any given
time. This metric represents for a given path, what was the closest the robot
came to coming into contact with a dynamic obstacle. Since collisions are more
likely to occur as the robot approaches an obstacle due to the uncertainty in
its motion, this metric serves to provide a simple way of quantifying the
safety without having to account for the motion of the obstacles. This metric
is defined formally in Eq.~\ref{eq:md_metric}.

\begin{equation}
    \Var{MinDist}(\Pi, A) = \min_{t \in \mathcal{T}} \, \min_{a \in A} \,
    ||\zeta_a(t) - \Pi(t)||
    \label{eq:md_metric}
\end{equation}

In Eq.~\ref{eq:md_metric}, $\Pi$ is the path of the robot, $\mathcal{T}$ is the
time interval for the path, and $A$ is the set of dynamic obstacles in the
scene. Since this metric does not account for the motion of obstacles, it
cannot be used as the sole quantification of safety. For example, if the robot
moved near a dynamic obstacle, but was moving in the opposite direction of the
obstacle, the path taken by the robot would still be safe, because there would
be a smaller chance of the robot actually coming into contact with the
obstacle. The robot could have a smaller cost over its path even if it moved
near an obstacle than a robot that was farther away from an obstacle but moved
directly into its trajectory.

Another metric used to compute the safety of a path is the maximum cost
incurred by the robot along the path. This is what the planner described in
Sec.~\ref{sec:design_planner} is trying to minimize. This metric describes how
risky a certain path is by determining the likelihood that the robot's path
would intersect with the trajectory of a dynamic obstacle. A formal definition
of this metric is shown in Eq.~\ref{eq:cost_metric}.

\begin{equation}
    \Var{MaxCost}(\Pi, A) = \max_{t \in \mathcal{T}} \, P(\Pi(t), A)
    \label{eq:cost_metric}
\end{equation}

Since the potential field planner implementation that is used to compare with
the planner created in this work does not utilize the information given about
the cost distribution associated with dynamic obstacles, this metric also
indicates how access to this information can contribute to generating safer
paths through dynamic environments. Since this metric is used to measure the
safety of both the potential fields planner and the developed planner, this
metric can be used to quantify how information about the motion of dynamic
obstacles can either improve or have no effect on the generated paths.

The last metric used to measure the safety of a generated paths is the average
cost associated with the robot along the path. This metric does not provide the
same indication of safety as in Eq.~\ref{eq:cost_metric} because the overall
safety of a path is not just the average safeness along the path. For instance
if the majority of a path taken by a robot has a relatively low cost, but then
the robot comes into collision with an along the path, this path cannot be
labelled as safe. However, this metric combined with the metrics described in
Eq.~\ref{eq:cost_metric} and Eq.~\ref{eq:md_metric} can be used to gauge the
level of safety for a given path. This last metric is described formally in
Eq.~\ref{eq:avg_cost_metric}.

\begin{equation}
    \Var{AvgCost}(\Pi, A) = \frac{1}{\max \mathcal{T}} \cdot
    \int_{\mathcal{T}} P(\Pi(t), A) \, \mathrm{d}t
    \label{eq:avg_cost_metric}
\end{equation}

Since experiments were conducted with a given set of parameters multiple times
due to the stochasticity of the dynamic obstacles and the developed planner,
each of the metrics were gathered for each individual run. The data gathered
for each of these metrics was then averaged and the standard deviation of the
dataset was determined. As such, it is the averages and standard deviations of
these metrics that are used to quantify the safety of a generated path.

\subsection{Computational Time}

In order to determine the feasibility of the paths generated by both planners,
the amount of computational time needed for each planner was collected.
Collecting this data can indicate how well the developed planner can perform in
a real-time scenario. Since the time it takes to compute a path with
replanning, the computational time also represents how long it would take for
the robot to execute the path because it is replanning in real-time.

\subsection{Variance}

\end{document}
